<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loan Products</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"/>
    <style>
        /* Navbar styling */
    .custom-navbar {
      background: linear-gradient(135deg, #2c3e50, #34495e);
      padding: 10px 30px;
      box-shadow: 0px 4px 8px rgba(0,0,0,0.2);
    }

    .logo-img {
      height: 45px;
      width: 45px;
      border-radius: 50%;
      border: 2px solid #ff6600;
    }

    .brand-text {
      font-size: 22px;
      font-weight: bold;
      color: #fff;
    }

    /* Updated Navbar Links and Button styles */
    .navbar-links {
      display: flex;
      gap: 25px;
      align-items: center;
    }

    .navbar-links a {
      color: #ecf0f1;
      font-size: 16px;
      text-decoration: none;
      transition: 0.3s;
      position: relative;
      padding: 6px 0;
    }

    .navbar-links a:hover {
      color: #ff6600;
    }

    .navbar-links a::after {
      content: "";
      display: block;
      height: 2px;
      width: 0;
      background: #ff6600;
      transition: width 0.3s;
      position: absolute;
      bottom: -3px;
      left: 0;
    }

    .navbar-links a:hover::after {
      width: 100%;
    }

    .profile-dropdown {
        position: relative;
        display: inline-block;
    }

    .profile-button {
        background-color: #ff6600;
        color: white;
        padding: 8px 12px;
        font-size: 16px;
        border: none;
        cursor: pointer;
        border-radius: 5px;
        transition: background-color 0.3s;
    }

    .profile-button:hover {
        background-color: #e65c00;
    }

    .dropdown-menu {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
        z-index: 1;
        border-radius: 5px;
        top: 100%;
        left: 0;
    }

    .dropdown-menu a {
        color: black;
        padding: 12px 16px;
        text-decoration: none;
        display: block;
        transition: background-color 0.3s;
    }

    .dropdown-menu a:hover {
        background-color: #f1f1f1;
    }

    .dropdown-menu.show {
        display: block;
    }

    /* Loan Products */
    .loan-products {
      background: #f8f9fa;
    }

    .loan-card {
      background: #fff;
      border-radius: 15px;
      box-shadow: 0 6px 15px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }

    .loan-card i {
      color: #ff6600;
    }

    .loan-card:hover {
      transform: translateY(-8px);
    }

    .loan-card h4 {
      font-weight: 600;
      margin-bottom: 10px;
      color: #2c3e50;
    }

    .loan-card p {
      font-size: 15px;
      color: #555;
      margin-bottom: 20px;
    }

    .apply-btn {
      display: inline-block;
      padding: 10px 20px;
      background-color: #007bff;
      color: white;
      text-decoration: none;
      border-radius: 5px;
      transition: background-color 0.3s ease;
    }

    .apply-btn:hover {
      background-color: #0056b3;
      color: white; /* Ensure text color remains white on hover */
    }

    /* foooter css-------------- */

    .footer {
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: #ecf0f1;
      padding: 40px 20px 20px;
      text-align: center;
      font-family: Arial, sans-serif;
    }

    .footer-container {
      max-width: 1200px;
      margin: auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      text-align: left;
      gap: 40px;
    }

    .footer-section {
      flex: 1;
      min-width: 250px;
    }

    .footer-section h4 {
      font-size: 20px;
      margin-bottom: 15px;
      border-left: 4px solid #ff6600;
      padding-left: 10px;
    }

    .footer-section p {
      font-size: 15px;
      line-height: 1.6;
      color: #dcdcdc;
    }

    /* Social icons */
    .social-icons {
      display: flex;
      gap: 15px;
      margin-bottom: 20px;
    }

    .social-icons a {
      width: 40px;
      height: 40px;
      background: #ff6600;
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      transition: 0.3s;
      text-decoration: none;
    }

    .social-icons a:hover {
      background: #e65c00;
      transform: translateY(-3px);
    }

    /* Bottom bar */
    .footer-bottom {
      margin-top: 19px;
      font-size: 14px;
      border-top: 1px solid rgba(255,255,255,0.2);
      padding-top: 15px;
      text-align: center;
      color: #bdc3c7;
    }

    /* Responsive */
    @media (max-width: 768px) {
      .footer-container {
        flex-direction: column;
        text-align: center;
      }
      .footer-section {
        margin-bottom: 20px;
      }
      .social-icons {
        justify-content: center;
      }
    }

    /*personal loan */
    /* Apply Form */
    .apply-section {
      background: #f8f9fa;
    }

    .apply-form {
      max-width: 600px;
      margin: auto;
    }

    .apply-form .form-label {
      font-weight: 500;
      color: #2c3e50;
    }

    .loan-details {
      max-width: 600px;
      margin: auto;
      font-size: 16px;
    }
    </style>
</head>
<body>

<nav class="navbar navbar-expand-lg sticky-top custom-navbar">
    <div class="container-fluid">
        <a class="navbar-brand d-flex align-items-center" href="#">
            <img class="logo-img" src="../images/logo.jpg" alt="logo">
            <span class="brand-text ms-2">Bank Loan</span>
        </a>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu" aria-controls="navbarMenu" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse justify-content-end" id="navbarMenu">
            <div class="navbar-links" id="navbarLinks">
                <a href="../Customer/customer-form.html">Home</a>
                <a href="../LoanProducts/products.html">Products</a>
                <a href="#">Applications</a>
                <a href="../Customer/login.html" id="loginButton">Login/Register</a>
            </div>
        </div>
    </div>
</nav>


<section class="loan-products py-5">
    <div class="container text-center">
        <h2 class="mb-5">Our Loan Products</h2>
        <div class="row g-4">

            <div class="col-md-4">
                <div class="loan-card p-4 h-100">
                    <i class="fas fa-user fa-3x mb-3"></i>
                    <h4>Personal Loan</h4>
                    <p>Get instant funds for medical, travel, or personal needs.</p>
                    <a href="apply-personal.html" class="apply-btn">Apply Now</a>
                </div>
            </div>

            <div class="col-md-4">
                <div class="loan-card p-4 h-100">
                    <i class="fas fa-car fa-3x mb-3"></i>
                    <h4>Vehicle Loan</h4>
                    <p>Drive your dream car or bike with our fast approvals.</p>
                    <a href="apply-vehicle.html" class="apply-btn">Apply Now</a>
                </div>
            </div>

            <div class="col-md-4">
                <div class="loan-card p-4 h-100">
                    <i class="fas fa-graduation-cap fa-3x mb-3"></i>
                    <h4>Education Loan</h4>
                    <p>Secure your future with easy education financing.</p>
                    <a href="apply-education.html" class="apply-btn">Apply Now</a>
                </div>
            </div>

            <div class="col-md-4">
                <div class="loan-card p-4 h-100">
                    <i class="fas fa-ring fa-3x mb-3"></i>
                    <h4>Gold Loan</h4>
                    <p>Unlock the value of your gold with quick disbursal.</p>
                    <a href="apply-gold.html" class="apply-btn">Apply Now</a>
                </div>
            </div>

            <div class="col-md-4">
                <div class="loan-card p-4 h-100">
                    <i class="fas fa-home fa-3x mb-3"></i>
                    <h4>Home Loan</h4>
                    <p>Make your dream home a reality with flexible plans.</p>
                    <a href="apply-home.html" class="apply-btn">Apply Now</a>
                </div>
            </div>

            <div class="col-md-4">
                <div class="loan-card p-4 h-100">
                    <i class="fas fa-briefcase fa-3x mb-3"></i>
                    <h4>Business Loan</h4>
                    <p>Expand your business with our customized loan options.</p>
                    <a href="apply-business.html" class="apply-btn">Apply Now</a>
                </div>
            </div>

        </div>
    </div>
</section>

<footer class="footer">
    <div class="footer-container">

        <div class="social-icons">
            <a href="https://facebook.com"><i class="fab fa-facebook-f"></i></a>
            <a href="https://twitter.com"><i class="fab fa-twitter"></i></a>
            <a href="https://instagram.com"><i class="fab fa-instagram"></i></a>
            <a href="https://linkedin.com"><i class="fab fa-linkedin-in"></i></a>
        </div>

        <div class="footer-section">
            <h4>About Us</h4>
            <p>
                We provide secure and efficient loan management services tailored to meet customer needs.
                Our mission is to simplify the loan process and ensure transparency.
            </p>
        </div>

        <div class="footer-section">
            <h4>Contact Us</h4>
            <p>Email: support@loanbank.com</p>
            <p>Phone: +91-9876543210</p>
            <p>Address: 123 Finance Street, Chennai, TN</p>
        </div>
    </div>

    <div class="footer-bottom">
        &copy; 2025 All rights reserved.
    </div>
</footer>

<script src="https://code.jquery.com/jquery-3.7.1.min.js" integrity="sha256-/JqT3SQfawR8cv/S7o2jJt6m5/t8A9x/5f5I/YqgBw0=" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>

<script>
    // Simple function to check if user is logged in (optional for homepage)
    function checkLoginStatus() {
        const email = localStorage.getItem("loggedInEmail");

        if (email) {
            // User is logged in - try to get their data
            const savedUserData = localStorage.getItem("loggedInCustomer");

            if (savedUserData) {
                // Use saved data
                const userData = JSON.parse(savedUserData);
                updateNavbar(userData);
            } else {
                // Get fresh data from server
                getUserData(email);
            }
        }
        // If not logged in, navbar stays as "Login/Register" (default)
    }

    // Get user data from server
    function getUserData(email) {
        $.ajax({
            url: "http://localhost:8089/api/customers/email/" + email,
            method: "GET",
            success: function(data) {
                // Save user data
                localStorage.setItem("loggedInCustomer", JSON.stringify(data));
                // Update navbar to show user's name
                updateNavbar(data);
            },
            error: function() {
                console.log("Could not load user data");
            }
        });
    }

    // Update navbar to show user's name instead of login button
    function updateNavbar(userData) {
        const loginButton = document.getElementById("loginButton");
        if (loginButton) {
            // Create the profile dropdown wrapper and its contents
            const profileDropdownWrapper = document.createElement("div");
            profileDropdownWrapper.className = "profile-dropdown";
            profileDropdownWrapper.innerHTML = `
                <button class="profile-button">
                    ${userData.name.split(' ')[0]}
                </button>
                <div class="dropdown-menu" id="profileDropdown">
                    <a href="profile.html" class="dropdown-item">View Profile</a>
                    <a href="#" class="dropdown-item" id="logoutLink">Logout</a>
                </div>
            `;

            // Replace the login button with the new profile dropdown
            loginButton.replaceWith(profileDropdownWrapper);

            // Add event listeners to the new elements
            const profileButton = profileDropdownWrapper.querySelector('.profile-button');
            if (profileButton) {
                profileButton.addEventListener('click', toggleDropdown);
            }

            const logoutLink = document.getElementById('logoutLink');
            if (logoutLink) {
                logoutLink.addEventListener('click', logout);
            }
        }
    }

    // Toggle dropdown menu
    function toggleDropdown() {
        const dropdown = document.getElementById("profileDropdown");
        if (dropdown) {
            dropdown.classList.toggle("show");
        }
    }

    // Close dropdown when clicking outside
    window.onclick = function(event) {
        if (!event.target.matches('.profile-button')) {
            const dropdown = document.getElementById("profileDropdown");
            if (dropdown && dropdown.classList.contains('show')) {
                dropdown.classList.remove('show');
            }
        }
    }

    // Logout function
    function logout() {
        if (confirm("Are you sure you want to logout?")) {
            localStorage.removeItem("loggedInEmail");
            localStorage.removeItem("loggedInCustomer");
            window.location.href = "../Customer/login.html";
        }
    }

    // Start the page by checking login status
    $(document).ready(function() {
        checkLoginStatus();
    });
</script>
</body>
</html>